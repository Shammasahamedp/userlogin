<%- include('header') %>

    <div class="text-center center-div form1" id="signup">
        <div class="container w-25 border py-5">
            <div class="title pb-5">
                <h2 class="font-weight-bold">
                    Signup
                </h2>
                <span class="span">Create an account</span>
            </div>
            <form id="registrationform" action="/signup" method="POST" onsubmit="validateForm(event)" class="pt-3">
                <div class="form-group">
                    <input type="email" id="email" class="form-control" placeholder="Email" name="email" required>
                </div>

                <div class="form-group">
                    <input type="text" id="name" class="form-control" placeholder="Name" name="name" required>
                </div>

                <div class="form-group">
                    <input type="text" id="phone" class="form-control" placeholder="Phone Number" name="phone" required>
                </div>

                <div class="form-group">
                    <input type="password" id="password" class="form-control" placeholder="Password" name="password"
                        minlength="6" required>
                </div>

                <button type="submit" class="btn btn-success">Signup</button>
            </form>

            <p class="mt-3 span">Already have an account? <a href="/login">Login</a></p>
        </div>
    </div>
    <script>
        function validateForm(event) {
            event.preventDefault();
            console.log("what is the problem bro..");
            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value;
            const password = document.getElementById('password').value;
            const phone = document.getElementById('phone').value;
    
            if (!isValidEmail(email)) {
                alert('Please enter a valid email address.');
                return;
            }
            if (password.length < 6) {
                alert('Password must be at least 6 characters long.');
                return;
            }
            if (!isValidName(name)) {
                alert('Name must contain only alphabetic characters.');
                return;
            }
            if (!isValidPhone(phone)) {
                alert('Phone number must be exactly 10 digits long and cannot start with 0 or consist of all zeros.');
                return;
            }
    
            document.getElementById('registrationform').submit();
        }
    
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@gmail\.com$/;
            return emailRegex.test(email);
        }
    
        function isValidName(name) {
            const nameRegex = /^[A-Za-z]+$/;
            return nameRegex.test(name);
        }
    
        function isValidPhone(phone) {
            const phoneRegex = /^[1-9][0-9]{9}$/;
            return phoneRegex.test(phone) && !/^(0+)$/.test(phone);
        }
    </script>
    
    <%- include('footer') %>